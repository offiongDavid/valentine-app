<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Valentine Response üíñ</title>
  <script src="https://cdn.tailwindcss.com"></script>

  <style>
    body {
      background: linear-gradient(-45deg, #ff758c, #ff7eb3, #ffc3a0, #ffdde1);
      background-size: 400% 400%;
      animation: gradientBG 10s ease infinite;
      overflow: hidden;
    }

    @keyframes gradientBG {
      0% {
        background-position: 0% 50%;
      }

      50% {
        background-position: 100% 50%;
      }

      100% {
        background-position: 0% 50%;
      }
    }

    /* Floating hearts */
    .heart {
      position: absolute;
      bottom: -20px;
      font-size: 20px;
      animation: floatUp 8s linear infinite;
      opacity: 0.7;
    }

    @keyframes floatUp {
      0% {
        transform: translateY(0) scale(0.8);
        opacity: 0;
      }

      30% {
        opacity: 1;
      }

      100% {
        transform: translateY(-100vh) scale(1.3);
        opacity: 0;
      }
    }

    /* Card entrance */
    .card {
      animation: popIn 1.2s ease forwards;
    }

    @keyframes popIn {
      0% {
        opacity: 0;
        transform: scale(0.7);
      }

      100% {
        opacity: 1;
        transform: scale(1);
      }
    }

    /* Glowing text */
    .glow {
      animation: glow 2s ease-in-out infinite alternate;
    }

    @keyframes glow {
      from {
        text-shadow: 0 0 10px #ff69b4;
      }

      to {
        text-shadow: 0 0 25px #ff1493;
      }
    }

    /* Heartbeat */
    .heartbeat {
      animation: beat 1.5s infinite;
    }

    @keyframes beat {
      0% {
        transform: scale(1);
      }

      25% {
        transform: scale(1.05);
      }

      50% {
        transform: scale(1);
      }

      75% {
        transform: scale(1.08);
      }

      100% {
        transform: scale(1);
      }
    }
  </style>
</head>

<body class="min-h-screen flex items-center justify-center relative">

   <!-- Floating hearts -->
  <div id="hearts" class="absolute inset-0 pointer-events-none"></div>

 
  <div class="flex flex-col items-center gap-6 z-10">

    
    <div class="card bg-white/80 backdrop-blur-lg p-8 rounded-2xl shadow-2xl text-center w-[22rem] heartbeat">
      <h1 id="message" class="text-3xl font-bold glow text-pink-600"></h1>
      <p id="subtext" class="mt-4 text-gray-700 text-lg"></p>
    </div>

    <!-- Music & Countdown -->
    <div class="bg-pink-50/90 rounded-xl p-4 shadow-md text-center w-[22rem]">
      
      <audio id="bgMusic" loop></audio>

      <button
        onclick="toggleMusic()"
        class="mx-auto flex items-center gap-2 bg-pink-500 hover:bg-pink-600 text-white px-4 py-2 rounded-full text-sm shadow transition"
      >
        üéµ <span id="musicText">Play Music</span>
      </button>

      <p id="countdown" class="mt-4 text-sm font-medium text-pink-700">
        Loading Valentine countdown‚Ä¶ üíò
      </p>
    </div>

  </div>

  <canvas id="confetti" class="absolute inset-0 pointer-events-none"></canvas>

  <script src="/public/js/main.js"></script>

  <script>
    /* Floating hearts generator */
    const heartContainer = document.getElementById('hearts');
    const hearts = ['üíñ', 'üíò', '‚ù§Ô∏è', 'üíï', 'üíû'];

    for (let i = 0; i < 25; i++) {
      const heart = document.createElement('div');
      heart.className = 'heart';
      heart.innerText = hearts[Math.floor(Math.random() * hearts.length)];
      heart.style.left = Math.random() * 100 + 'vw';
      heart.style.animationDuration = 5 + Math.random() * 5 + 's';
      heart.style.fontSize = 16 + Math.random() * 20 + 'px';
      heartContainer.appendChild(heart);
    }


    const params = new URLSearchParams(window.location.search);
    const ans = params.get('ans');

    const message = document.getElementById('message');
    const subtext = document.getElementById('subtext');

    if (ans === 'Yes') {
      message.innerText = 'She said YES üíçüíñ';
      subtext.innerText = 'Love has been secured. This Valentine just got special ‚ú®';
      startConfetti();
    } else {
      message.innerText = 'Maybe next time üíî';
      subtext.innerText = 'Still sending love your way üíï';
    }

    /* Confetti effect */
    function startConfetti() {
      const canvas = document.getElementById('confetti');
      const ctx = canvas.getContext('2d');
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;

      const pieces = [];

      for (let i = 0; i < 180; i++) {
        pieces.push({
          x: Math.random() * canvas.width,
          y: Math.random() * canvas.height,
          size: Math.random() * 6 + 2,
          speed: Math.random() * 3 + 2,
          color: ['#ff69b4', '#ff1493', '#ffc0cb'][Math.floor(Math.random() * 3)]
        });
      }

      function draw() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        pieces.forEach(p => {
          ctx.fillStyle = p.color;
          ctx.beginPath();
          ctx.arc(p.x, p.y, p.size, 0, Math.PI * 2);
          ctx.fill();
          p.y += p.speed;
          if (p.y > canvas.height) p.y = -10;
        });
        requestAnimationFrame(draw);
      }
      draw();
    }
  </script>
 
</body>

</html>